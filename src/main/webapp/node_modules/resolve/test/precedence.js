var path = require('path');
var test = require('tape');
var resolve = require('../');

test('precedence', function (t) {
    t.plan(3);
    var dir = path.join(__dirname, 'precedence/aaa');
<<<<<<< HEAD
<<<<<<< HEAD
    
    resolve('./', { basedir : dir }, function (err, res, pkg) {
=======

    resolve('./', { basedir: dir }, function (err, res, pkg) {
>>>>>>> b52cc917bd6158e211e6fd5ad8ad68cceba8ac8e
=======

    resolve('./', { basedir: dir }, function (err, res, pkg) {
>>>>>>> refs/remotes/origin/master
        t.ifError(err);
        t.equal(res, path.join(dir, 'index.js'));
        t.equal(pkg.name, 'resolve');
    });
});

test('./ should not load ${dir}.js', function (t) {
    t.plan(1);
    var dir = path.join(__dirname, 'precedence/bbb');
<<<<<<< HEAD
<<<<<<< HEAD
    
    resolve('./', { basedir : dir }, function (err, res, pkg) {
=======

    resolve('./', { basedir: dir }, function (err, res, pkg) {
>>>>>>> b52cc917bd6158e211e6fd5ad8ad68cceba8ac8e
=======

    resolve('./', { basedir: dir }, function (err, res, pkg) {
>>>>>>> refs/remotes/origin/master
        t.ok(err);
    });
});
